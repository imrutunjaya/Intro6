<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr.Researcher</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: black; /* Set background color to black */
            color: white; /* Set default text color to white */
            display: flex; /* Use Flexbox for centering */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            height: 100vh; /* Full height */
            margin: 0; /* Remove default margin */
        }
        .container {
            width: 90%; /* Responsive width */
            max-width: 600px; /* Max width for larger screens */
            text-align: center; /* Center text */
        }
        .connection-card {
            background-color: transparent; /* Make connection cards transparent */
            border: 1px solid rgba(255, 255, 255, 0.1); /* Light border for visibility */
            border-radius: 12px; /* Rounded corners */
            padding: 1rem; /* Padding for content */
            transition: background-color 0.3s ease; /* Smooth background transition */
        }
        .error-message {
            background: rgba(15, 15, 15, 0.8); /* Match background for error message */
        }
        .progress-container {
            position: relative;
            display: inline-block;
            width: 100px; /* Width of the circular progress */
            height: 100px; /* Height of the circular progress */
        }
        .progress-circle {
            fill: none;
            stroke-width: 10;
        }
        .progress-bg {
            stroke: rgba(255, 255, 255, 0.2); /* Background circle color */
        }
        .progress {
            stroke: #4F46E5; /* Progress circle color */
            transition: stroke-dashoffset 0.5s ease; /* Smooth transition for progress */
        }
        .percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="text-center mb-6" id="content">
            <h1 class="text-4xl sm:text-5xl font-thin tracking-tighter mb-2" id="title">Dr.Researcher</h1>
            <p class="text-sm text-gray-400 tracking-wider" id="booting-text" style="display: none;">Booting system...</p>
            <p class="text-xs text-gray-500 mt-1" id="booting-subtext" style="display: none;">Loading core components</p>
        </div>
        
        <div class="space-y-6">
            <!-- Loading Animation -->
            <div class="connection-card" id="loading-card">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="animate-spin">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 6v3m4 7h3m-7 4v-3m-4-7H6" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div id="init-status">
                            <p class="text-gray-400" id="init-text">Booting system...</p>
                            <p class="text-xs text-gray-500 mt-1" id="init-subtext">Loading core components</p>
                        </div>
                    </div>
                    <div id="loading-status" class="text-xs text-gray-500"></div>
                </div>
                <div class="mt-3 pt-3 border-t border-gray-800">
                    <p class="text-xs text-gray-400 mb-1">System Status</p>
                    <div id="init-messages" class="space-y-2 text-sm">
                        <div class="flex items-center" id="search-status">
                            <span>Searching database...</span>
                        </div>
                        <div class="flex items-center" id="connect-status">
                            <span>Establishing connection...</span>
                        </div>
                        <div class="flex items-center" id="auth-status">
                            <span>Authenticating credentials...</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Circular Progress Indicator -->
            <div class="connection-card" id="connection-status-card">
                <div class="mb-4">
                    <p class="text-xs text-gray-400 mb-1">Network Status</p>
                    <div id="network-status">
                        <span id="status-text">Checking connection...</span>
                    </div>
                </div>
                <div class="flex items-center mb-4">
                    <div class="w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center mr-3">
                        <i class="fas fa-plug text-lg text-blue-400"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-light">Connection Status</h3>
                        <p class="text-gray-400 text-sm font-light">Real-time network monitoring</p>
                    </div>
                </div>
                
                <div class="error-message" id="error-message">
                    <div class="flex items-center justify-center">
                        <i class="fas fa-exclamation-triangle warning-icon"></i>
                        <p class="text-sm">
                            <span id="error-text">Oops! It seems you're offline.</span>
                            <br>
                            <span class="text-xs">Please check your internet connection.</span>
                        </p>
                    </div>
                    <button id="retry-btn" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none">
                        Retry
                    </button>
                </div>

                <div class="mt-4">
                    <div class="flex justify-center mb-2">
                        <div class="progress-container">
                            <svg width="100" height="100">
                                <circle class="progress-bg progress-circle" cx="50" cy="50" r="45"></circle>
                                <circle class="progress progress-circle" cx="50" cy="50" r="45" stroke-dasharray="283" stroke-dashoffset="283"></circle>
                                <text class="percentage" x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" id="percentage-text">0%</text>
                            </svg>
                        </div>
                    </div>
                    <p class="text-xs text-gray-400">Loading progress...</p> <!-- Extra text -->
                </div>
            </div>
        </div>
        
        <div class="mt-8 text-center text-xs text-gray-500">
            <p> Dr.Researcher™ # Mrutunjaya Pradhan.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize system sequence
            const initSteps = [
                { text: "Booting system...", subtext: "Loading core components", delay: 1000 },
                { text: "Searching database...", subtext: "", delay: 800 },
                { text: "Establishing connection...", subtext: "", delay: 800 },
                { text: "Authenticating credentials...", subtext: "", delay: 800 },
                { text: "System ready", subtext: "Establishing connections", delay: 700 }
            ];
            
            let currentInitStep = 0;
            function runInitStep() {
                if (currentInitStep < initSteps.length) {
                    const step = initSteps[currentInitStep];
                    if (currentInitStep === 0) {
                        document.getElementById('booting-text').style.display = 'block';
                        document.getElementById('booting-subtext').style.display = 'block';
                    } else {
                        const statusText = document.getElementById('init-text');
                        const statusSubtext = document.getElementById('init-subtext');
                        statusText.textContent = step.text;
                        statusSubtext.textContent = step.subtext;
                        document.getElementById('loading-card').classList.add('visible');
                    }
                    currentInitStep++;
                    setTimeout(runInitStep, step.delay);
                } else {
                    checkHTTPS();
                    document.getElementById('connection-status-card').classList.add('visible');
                    setTimeout(() => {
                        document.getElementById('connection-status-card').classList.add('visible');
                    }, 500); // Delay for the connection status card to appear
                }
            }
            
            setTimeout(runInitStep, 500);
            
            // Simulate database connection check with delay
            setTimeout(checkDatabase, 1500);
            
            // Initialize connection status
            checkConnection();
            
            // Add retry button event listener
            document.getElementById('retry-btn').addEventListener('click', function() {
                resetConnection();
                checkConnection();
            });
            
            // Start system status animation
            simulateSystemHealth();
            
            // Simulate connection progress
            simulateConnectionProgress();
            
            // Add online/offline event listeners
            window.addEventListener('online', function() {
                checkConnection();
            });
            
            window.addEventListener('offline', function() {
                checkConnection();
            });
        });
        
        function checkHTTPS() {
            setTimeout(function() {
                const httpsText = document.getElementById('https-status-text');
                
                if (window.location.protocol === 'https:') {
                    httpsText.textContent = 'HTTPS Secure';
                } else {
                    httpsText.textContent = 'HTTP Not Secure';
                }
            }, 1000);
        }
        
        function checkDatabase() {
            const dbText = document.getElementById('db-status-text');
            
            // Simulating random success (90% chance)
            const isSuccess = Math.random() > 0.1;
            
            setTimeout(function() {
                if (isSuccess) {
                    dbText.textContent = 'Database Connected';
                } else {
                    dbText.textContent = 'Connection Failed';
                }
            }, 1000);
        }
        
        function checkConnection() {
            const statusText = document.getElementById('status-text');
            const errorBox = document.getElementById('error-message');
            
            if (navigator.onLine) {
                statusText.textContent = 'Online';
                errorBox.style.display = 'none'; // Hide error message
            } else {
                statusText.textContent = 'Offline';
                document.getElementById('error-text').textContent = 'Oops! It seems you\'re offline.';
                errorBox.style.display = 'block'; // Show error message
            }
        }
        
        function simulateSystemHealth() {
            const steps = [
                { element: 'search-status', text: 'Database located', delay: 800 },
                { element: 'connect-status', text: 'Connection established', delay: 1200 },
                { element: 'auth-status', text: 'Authentication successful', delay: 1500 }
            ];

            steps.forEach((step, index) => {
                setTimeout(() => {
                    const element = document.getElementById(step.element);
                    element.querySelector('span:last-child').textContent = step.text;
                    
                    if (index === steps.length - 1) {
                        document.getElementById('init-text').textContent = "System fully operational";
                    }
                }, step.delay);
            });
        }

        function simulateConnectionProgress() {
            const percentText = document.getElementById('percentage-text');
            const progressCircle = document.querySelector('.progress');
            const progressValues = [7, 10, 22, 32, 45, 47, 50, 57, 69, 70, 78, 80, 88, 90, 92, 95, 100];
            let index = 0;

            const totalLength = 283; // Circumference of the circle (2 * π * r, where r = 45)
            const interval = setInterval(() => {
                if (index < progressValues.length) {
                    const value = progressValues[index];
                    percentText.textContent = `${value}%`; // Update the percentage text
                    const offset = totalLength - (totalLength * value / 100); // Calculate stroke-dashoffset
                    progressCircle.style.strokeDashoffset = offset; // Update the progress circle
                    index++;
                } else {
                    clearInterval(interval);
                }
            }, 300); // Update every 300ms for faster progress
        }

        function resetConnection() {
            const statusText = document.getElementById('status-text');
            statusText.textContent = 'Checking connection...';
            document.getElementById('percentage-text').textContent = '0%'; // Reset the percentage display
            document.querySelector('.progress').style.strokeDashoffset = 283; // Reset the progress circle
        }
    </script>
</body>
</html>
